<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Teacher Dashboard - Institution</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Poppins', sans-serif; 
            margin: 0; 
            background: #f0f2f5; 
            color: #333; 
        }
        
        /* Red/Green Sign Box */
        #notification-bar {
            position: fixed;
            top: -100px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 400px;
            padding: 15px;
            border-radius: 12px;
            color: white;
            text-align: center;
            font-weight: 600;
            transition: 0.4s ease;
            z-index: 1000;
        }
        .bg-green { top: 20px !important; background: #43a047; box-shadow: 0 4px 15px rgba(67, 160, 71, 0.3); }
        .bg-red { top: 20px !important; background: #e53935; box-shadow: 0 4px 15px rgba(229, 57, 53, 0.3); }

        nav { background: #2b5de4; padding: 15px 30px; color: white; display: flex; justify-content: space-between; align-items: center; }
        .container { padding: 30px; max-width: 1000px; margin: auto; }
        
        .card { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); margin-bottom: 20px; }
        
        .input-group { margin-bottom: 15px; }
        input, textarea, select { 
            width: 100%; padding: 12px; margin-top: 5px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; 
        }
        
        .btn { 
            background: #2b5de4; color: white; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: 600; 
        }
        .btn:hover { background: #1a44b9; }

        .assignment-list { margin-top: 20px; }
        .assignment-item { background: #f9f9f9; padding: 15px; border-radius: 10px; margin-bottom: 10px; border-left: 5px solid #2b5de4; }
    </style>
</head>
<body>

    <div id="notification-bar"></div>

    <nav>
        <strong>Institution Portal | Teacher</strong>
        <span id="teacher-name">Welcome, Teacher</span>
        <button onclick="logout()" style="background:none; border:1px solid white; color:white; cursor:pointer; padding:5px 10px; border-radius:5px;">Logout</button>
    </nav>

    <div class="container">
        <script>
            if (localStorage.getItem('user_role') !== 'teacher') {
                window.location.href = "../index.html";
            }
            document.getElementById('teacher-name').innerText = "Welcome, " + (localStorage.getItem('userName') || "Teacher");
        </script>

        <div class="card">
            <h3>Create New Assignment</h3>
            <div class="input-group">
                <input type="text" id="title" placeholder="Assignment Title">
            </div>
            <div class="input-group">
                <textarea id="description" rows="3" placeholder="Instructions for students..."></textarea>
            </div>
            <button class="btn" onclick="postAssignment()">Post to Class</button>
        </div>

        <div class="card">
            <h3>Active Assignments</h3>
            <div id="assignment-container" class="assignment-list">
                <p style="color: #888;">No assignments posted yet.</p>
            </div>
        </div>
    </div>

    <script>
        function showNotify(msg, type) {
            const bar = document.getElementById('notification-bar');
            bar.innerText = msg;
            bar.className = type === 'success' ? 'bg-green' : 'bg-red';
            setTimeout(() => bar.className = '', 3000);
        }

        async function postAssignment() {
            const title = document.getElementById('title').value;
            const desc = document.getElementById('description').value;

            if(!title || !desc) {
                showNotify("Please fill all fields", "error");
                return;
            }

            // Logic for real app backend call would go here
            showNotify("Assignment published to students!", "success");
            
            // Add to UI for demo
            const container = document.getElementById('assignment-container');
            if(container.innerText.includes("No assignments")) container.innerHTML = "";
            
            const item = document.createElement('div');
            item.className = 'assignment-item';
            item.innerHTML = `<strong>${title}</strong><p style="margin:5px 0 0; font-size:14px;">${desc}</p>`;
            container.prepend(item);

            document.getElementById('title').value = "";
            document.getElementById('description').value = "";
        }

        function logout() {
            localStorage.clear();
            window.location.href = "../index.html";
        }
    </script>
</body>
</html>